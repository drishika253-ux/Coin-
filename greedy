import heapq

class Solution:
    def lastStoneWeight(self, stones):
        # Convert to max heap by pushing negative values
        max_heap = [-s for s in stones]
        heapq.heapify(max_heap)

        # Smash stones until at most one is left
        while len(max_heap) > 1:
            y = -heapq.heappop(max_heap)  # heaviest
            x = -heapq.heappop(max_heap)  # second heaviest
            
            if y != x:
                heapq.heappush(max_heap, -(y - x))

        # If no stones left, return 0
        return -max_heap[0] if max_heap else 0
